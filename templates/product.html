{% extends "base.html" %}

{% block content %}
    <section class="product-detail">
        <div class="product-main">
            <img src="{{ product[5] }}" alt="{{ product[1] }}" class="product-image-large">
            <div class="product-info">
                <h2>{{ product[1] }}</h2>
                <p class="category">{{ product[2] }}</p>
                <p class="price">${{ "%.2f"|format(product[3]) }}</p>
                <p class="description">{{ product[4] }}</p>
                
                <div class="scores">
                    <h4>Product Scores:</h4>
                    <p>Popularity: {{ "%.2f"|format(product[6]) }}</p>
                    <p>Trend: {{ "%.2f"|format(product[7]) }}</p>
                    <p>Relevance: {{ "%.2f"|format(product[8]) }}</p>
                </div>
                
                <a href="{{ url_for('purchase', product_id=product[0]) }}" class="btn btn-purchase">Purchase Now</a>
            </div>
        </div>
        
        {% if related_products %}
        <section class="related-products">
            <h3>Frequently Bought Together</h3>
            <div class="product-grid">
                {% for product in related_products %}
                <div class="product-card">
                    <img src="{{ product[5] }}" alt="{{ product[1] }}" class="product-image">
                    <h4>{{ product[1] }}</h4>
                    <p class="category">{{ product[2] }}</p>
                    <p class="price">${{ "%.2f"|format(product[3]) }}</p>
                    <p class="scores">
                        <span class="popularity" title="Popularity">P: {{ "%.2f"|format(product[6]) }}</span>
                        <span class="trend" title="Trend">T: {{ "%.2f"|format(product[7]) }}</span>
                        <span class="relevance" title="Relevance">R: {{ "%.2f"|format(product[8]) }}</span>
                    </p>
                    <a href="{{ url_for('product_detail', product_id=product[0]) }}" class="btn">View Details</a>
                </div>
                {% endfor %}
            </div>
        </section>
        {% endif %}
    </section>
{% endblock %}